<h1 align="center">@stackup/form</h1>

<div align="center">

![Build](https://github.com/rzane/form/workflows/Build/badge.svg)
![Version](https://img.shields.io/npm/v/@stackup/form)
![Size](https://img.shields.io/bundlephobia/minzip/@stackup/form)
![License](https://img.shields.io/npm/l/@stackup/form)

</div>

A type-safe approach to managing complex form state in React.

## Usage

```jsx
import React from "react";
import { useForm, useField, useNoValidate } from "@stackup/form";

const Input = ({ label, field: { id, value, setValue } }) => (
  <div>
    <label htmlFor={id}>{label}</label>
    <input
      id={id}
      value={value}
      onChange={useCallback(e => setValue(e.target.value), [setValue])}
    />
  </div>
);

const Form = () => {
  const form = useForm({
    validate: useNoValidate(),
    submit: useCallback(values => console.log(values), []),
    initialValue: { email: "" }
  });

  return (
    <form onSubmit={form.onSubmit}>
      <Input label="Email" field={useField(form, "email")} />
      <button type="submit">Save</button>
    </form>
  );
};
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [FormError](#formerror)
-   [usePushItem](#usepushitem)
    -   [Parameters](#parameters)
-   [useField](#usefield)
    -   [Parameters](#parameters-1)
-   [useFieldItem](#usefielditem)
    -   [Parameters](#parameters-2)
-   [useInsertItem](#useinsertitem)
    -   [Parameters](#parameters-3)
-   [useRemoveItem](#useremoveitem)
    -   [Parameters](#parameters-4)
-   [useForm](#useform)
    -   [Parameters](#parameters-5)
-   [FormTouched](#formtouched)
-   [useNoValidate](#usenovalidate)
-   [useIdentifier](#useidentifier)
    -   [Parameters](#parameters-6)
-   [insertItem](#insertitem)
    -   [Parameters](#parameters-7)
-   [Transform](#transform)
-   [SetState](#setstate)
-   [removeItem](#removeitem)
    -   [Parameters](#parameters-8)
-   [FormField](#formfield)
-   [useGetProperty](#usegetproperty)
    -   [Parameters](#parameters-9)
-   [ValidationResult](#validationresult)
-   [useGetItem](#usegetitem)
    -   [Parameters](#parameters-10)
-   [Validate](#validate)
-   [Submit](#submit)
-   [useSetProperty](#usesetproperty)
    -   [Parameters](#parameters-11)
-   [FormOptions](#formoptions)
-   [useSchema](#useschema)
    -   [Parameters](#parameters-12)
-   [useSetItem](#usesetitem)
    -   [Parameters](#parameters-13)
-   [Form](#form)
-   [getAllTouched](#getalltouched)
    -   [Parameters](#parameters-14)

### FormError

[src/types.ts:1-8](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L1-L8 "Source code on GitHub")

Type: ([undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined) \| [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | any)

### usePushItem

[src/usePushItem.ts:4-13](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/usePushItem.ts#L4-L13 "Source code on GitHub")

#### Parameters

-   `field` **[FormField](#formfield)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>>** 

### useField

[src/useField.ts:5-30](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useField.ts#L5-L30 "Source code on GitHub")

#### Parameters

-   `field` **[FormField](#formfield)&lt;T>** 
-   `name` **K** 

Returns **[FormField](#formfield)&lt;any>** 

### useFieldItem

[src/useFieldItem.ts:5-36](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useFieldItem.ts#L5-L36 "Source code on GitHub")

#### Parameters

-   `field` **[FormField](#formfield)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>>** 
-   `index` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[FormField](#formfield)&lt;T>** 

### useInsertItem

[src/useInsertItem.ts:5-28](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useInsertItem.ts#L5-L28 "Source code on GitHub")

#### Parameters

-   `field` **[FormField](#formfield)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>>** 

### useRemoveItem

[src/useRemoveItem.ts:5-28](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useRemoveItem.ts#L5-L28 "Source code on GitHub")

#### Parameters

-   `field` **[FormField](#formfield)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>>** 

### useForm

[src/useForm.ts:9-98](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useForm.ts#L9-L98 "Source code on GitHub")

Create a form.

#### Parameters

-   `options` **[FormOptions](#formoptions)&lt;T, R>** 

Returns **[Form](#form)&lt;T, R>** 

### FormTouched

[src/types.ts:10-17](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L10-L17 "Source code on GitHub")

Type: ([undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined) \| [boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean) | any)

### useNoValidate

[src/useNoValidate.ts:10-12](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useNoValidate.ts#L10-L12 "Source code on GitHub")

This can be used to create a form that doesn't require
any validation. Granted, this is kind of stupid, but
it does make the types in this library significantly
simpler.

Returns **[Validate](#validate)&lt;T, T>** 

### useIdentifier

[src/useIdentifier.ts:14-22](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useIdentifier.ts#L14-L22 "Source code on GitHub")

Creates a unique identifier that will remain consistent
across re-renders.

This hook does not currently support SSR.

#### Parameters

-   `id` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### insertItem

[src/utilities.ts:16-20](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L16-L20 "Source code on GitHub")

#### Parameters

-   `values` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>** 
-   `index` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `value` **T** 

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>** 

### Transform

[src/types.ts:19-19](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L19-L19 "Source code on GitHub")

Type: function (value: T): T

### SetState

[src/types.ts:20-20](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L20-L20 "Source code on GitHub")

Type: function (value: (T | [Transform](#transform)&lt;T>)): void

### removeItem

[src/utilities.ts:22-26](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L22-L26 "Source code on GitHub")

#### Parameters

-   `values` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>** 
-   `index` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;T>** 

### FormField

[src/types.ts:25-34](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L25-L34 "Source code on GitHub")

The primary form data structure.

### useGetProperty

[src/utilities.ts:36-38](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L36-L38 "Source code on GitHub")

#### Parameters

-   `data` **any** 
-   `key` **any** 

Returns **any** 

### ValidationResult

[src/types.ts:38-40](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L38-L40 "Source code on GitHub")

Type: ({valid: `true`, value: R} | {valid: `false`, error: [FormError](#formerror)&lt;T>})

### useGetItem

[src/utilities.ts:40-42](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L40-L42 "Source code on GitHub")

#### Parameters

-   `data` **any** 
-   `index` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **any** 

### Validate

[src/types.ts:42-42](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L42-L42 "Source code on GitHub")

Type: function (value: T): MaybeAsync&lt;[ValidationResult](#validationresult)&lt;T, R>>

### Submit

[src/types.ts:43-43](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L43-L43 "Source code on GitHub")

Type: function (value: T): MaybeAsync&lt;void>

### useSetProperty

[src/utilities.ts:44-57](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L44-L57 "Source code on GitHub")

#### Parameters

-   `setState` **[SetState](#setstate)&lt;any>** 
-   `name` **any** 

Returns **[SetState](#setstate)&lt;any>** 

### FormOptions

[src/types.ts:48-57](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L48-L57 "Source code on GitHub")

These are options that can be passed to `useForm`.

### useSchema

[src/useSchema.ts:55-57](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/useSchema.ts#L55-L57 "Source code on GitHub")

Use a validation schema produced by `@stackup/validate`

#### Parameters

-   `schema` **Schema&lt;T, R>** 

Returns **[Validate](#validate)&lt;T, R>** 

### useSetItem

[src/utilities.ts:59-73](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L59-L73 "Source code on GitHub")

#### Parameters

-   `setState` **[SetState](#setstate)&lt;any>** 
-   `index` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[SetState](#setstate)&lt;any>** 

### Form

[src/types.ts:62-71](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/types.ts#L62-L71 "Source code on GitHub")

**Extends FormField&lt;T>**

The value returned by `useForm`.

### getAllTouched

[src/utilities.ts:75-93](https://github.com/rzane/form/blob/c32c8a8bac1af0f9d9cd52584b488e37b8ee0038/src/utilities.ts#L75-L93 "Source code on GitHub")

#### Parameters

-   `errors` **any** 

Returns **any** 
